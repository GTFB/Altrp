{"version":3,"sources":["webpack:///./resources/modules/front-app/src/js/store/routes/actions.js","webpack:///./resources/modules/front-app/src/js/store/routes/reducers.js","webpack:///./resources/modules/front-app/src/js/store/reducers.js","webpack:///./resources/modules/front-app/src/js/store/store.js","webpack:///./resources/modules/front-app/src/js/components/AreaComponent.js","webpack:///./resources/modules/front-app/src/js/components/RouteContent.js","webpack:///./resources/modules/front-app/src/js/components/Styles.js","webpack:///./resources/modules/front-app/src/js/components/AppContent.js","webpack:///./resources/modules/front-app/src/FrontApp.js"],"names":["CHANGE_APP_ROUTES","changeAppRoutes","routes","type","defaultState","combineReducers","appRoutes","state","action","appStore","createStore","rootReducer","AreaComponent","rootElement","window","frontElementsFabric","parseData","this","props","template","data","console","log","className","React","createElement","componentClass","element","children","Component","RouteContent","areas","map","area","key","id","Styles","elementStyles","stylesModule","stylesModuleResolve","elementId","styles","elementFound","forEach","elementStyle","push","setState","data-styles-id","AppContent","route","path","location","connect","_export","frontApp","getTemplates","getRoutes","then","res","templates","Templates","store"],"mappings":"yFAAA,oEAAO,IAAMA,EAAoB,oBAE1B,SAASC,EAAgBC,GAC9B,MAAO,CACLC,KAAMH,EACNE,Y,oDCHEE,EAAe,CACnBF,OAAQ,ICCKG,kBAAgB,CAC7BC,UDCK,SAA0BC,EAAOC,GAEtC,OADAD,EAAQA,GAASH,EACTI,EAAOL,MACb,KAAKH,IACHO,EAAQ,CACNL,OAAQM,EAAON,QAIrB,OAAOK,KEZLE,EAAWC,YAAYC,GAEZF,O,2+BCWAG,E,6WAZT,IAAIC,EAAeC,OAAOC,oBAAoBC,UAAUC,KAAKC,MAAMC,SAASC,MAE5E,OADAC,QAAQC,IAAIT,GACL,yBAAKU,UAAU,YACpBC,IAAMC,cAAcZ,EAAYa,eAC5B,CACEC,QAASd,EACTe,SAAUf,EAAYe,iB,8BARRC,a,y4BCSbC,E,6WANX,OAAM,yBAAKP,UAAU,iBACnBN,KAAKC,MAAMa,MAAMC,KAAI,SAAAC,GAAI,OAAI,kBAAC,EAAD,CAAed,SAAUc,EAAKd,SAAUe,IAAK,WAAWD,EAAKE,c,8BAHrEN,a,k5CC4CZO,E,YA5Cb,WAAYlB,GAAM,M,IAAA,O,4FAAA,S,EAChB,U,EAAA,eAAMA,K,8CACDX,MAAQ,CACX8B,cAAe,IAEjBvB,OAAOwB,aAAP,KACAxB,OAAOyB,oBAAP,MANgB,E,wSAYDC,EAAWC,GAC1B,GAAIA,EAAJ,CAGA,IAAIC,GAAe,EACfL,EAAgB,EAAIpB,KAAKV,MAAM8B,eACnCA,EAAcM,SAAQ,SAAAC,GACjBA,EAAaJ,YAAcA,IAC5BE,GAAe,EACfE,EAAaH,OAASA,MAGtBC,GACFL,EAAcQ,KAAK,CACjBL,YACAC,WAGJxB,KAAK6B,S,+VAAL,IACK7B,KAAKV,MADV,CAEE8B,cAAeA,Q,+BAIjB,OAAO,yBAAKd,UAAU,oBACnBN,KAAKV,MAAM8B,cAAcL,KAAI,SAAAY,GAC5B,OAAM,2BAAOG,iBAAgBH,EAAaJ,UAAWN,IAAKU,EAAaJ,WAAYI,EAAaH,iB,8BAvCnFZ,a,y4BCSfmB,E,6WAEF,OAAO,yBAAKzB,UAAU,qBACpB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACGN,KAAKC,MAAMhB,OAAO8B,KAAI,SAAAiB,GAAK,OAAE,kBAAC,IAAD,CAAOf,IAAK,YAAce,EAAMd,GAAIe,KAAMD,EAAME,UAC5E,kBAAC,EAAD,CAAcpB,MAAOkB,EAAMlB,cAIjC,kBAAC,EAAD,Y,8BAVmBF,aAqBVuB,ICIXC,EDJWD,eANf,SAAyB7C,GACvB,MAAO,CACLL,OAAQK,EAAMD,UAAUJ,UAIbkD,CAAyBJ,G,muBCMtCK,E,YA9BA,WAAYnC,GAAM,M,IAAA,O,4FAAA,S,EAChB,S,EAAA,eAAMA,K,6CACNJ,OAAOwC,SAAP,KACA,EAAKC,eACL,EAAKC,YAJW,E,sSAMJ,WACZ,OAAOD,cAAeE,MAAK,SAAAC,GACzB,EAAKC,UAAYD,EAAG,a,kCAGb,WACT,OAAOF,cAAYC,MAAK,SAAAC,GACtB,EAAKxD,OAASwD,EAAG,a,gCAGZ,WACPzC,KAAKsC,eAAeE,MAAK,SAAAG,GACvBvC,QAAQC,IAAI,EAAKqC,YAAcC,EAAS,c,+BAI1C,OAAO,kBAAC,IAAD,CAAUC,MAAOpD,KACtB,kBAAC,EAAD,Y,8BAxBiBoB,aAoCRwB","file":"3.bundle.js","sourcesContent":["export const CHANGE_APP_ROUTES = 'CHANGE_APP_ROUTES';\r\n\r\nexport function changeAppRoutes(routes) {\r\n  return {\r\n    type: CHANGE_APP_ROUTES,\r\n    routes\r\n  };\r\n}\r\n\r\n","import {CHANGE_APP_ROUTES} from './actions'\r\n\r\nconst defaultState = {\r\n  routes: [],\r\n};\r\n\r\nexport function appRoutesReducer(state, action) {\r\n  state = state || defaultState;\r\n  switch (action.type) {\r\n    case CHANGE_APP_ROUTES:{\r\n      state = {\r\n        routes: action.routes,\r\n      };\r\n    }break;\r\n  }\r\n  return state;\r\n}","import {combineReducers} from 'redux';\r\nimport {appRoutesReducer} from \"./routes/reducers\";\r\n\r\n\r\nexport default combineReducers({\r\n  appRoutes: appRoutesReducer,\r\n});\r\n","import {createStore} from 'redux';\r\nimport rootReducer from './reducers'\r\n\r\nlet appStore = createStore(rootReducer);\r\n\r\nexport default appStore;","import React, {Component} from \"react\";\r\n\r\nclass AreaComponent extends Component {\r\n    render(){\r\n      let rootElement  = window.frontElementsFabric.parseData(this.props.template.data);\r\n      console.log(rootElement);\r\n      return <div className=\"app-area\">{\r\n        React.createElement(rootElement.componentClass,\r\n            {\r\n              element: rootElement,\r\n              children: rootElement.children\r\n            })\r\n      }</div>\r\n    }\r\n}\r\n\r\nexport default AreaComponent","import React, {Component} from \"react\";\r\nimport AreaComponent from \"./AreaComponent\";\r\n\r\nclass RouteContent extends Component {\r\n  render(){\r\n    return<div className=\"route-content\">{\r\n      this.props.areas.map(area => <AreaComponent template={area.template} key={'appArea_'+area.id}/>)\r\n    }</div>\r\n  }\r\n}\r\n\r\nexport default RouteContent","import React, {Component} from \"react\";\r\n\r\nclass Styles extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      elementStyles: []\r\n    };\r\n    window.stylesModule = this;\r\n    window.stylesModuleResolve(this);\r\n  }\r\n  /**\r\n   * @param {string} elementId\r\n   * @param {string} styles\r\n   * */\r\n  addElementStyles(elementId, styles){\r\n    if(!styles){\r\n      return\r\n    }\r\n    let elementFound = false;\r\n    let elementStyles = [...this.state.elementStyles];\r\n    elementStyles.forEach(elementStyle=>{\r\n      if(elementStyle.elementId === elementId){\r\n        elementFound = true;\r\n        elementStyle.styles = styles;\r\n      }\r\n    });\r\n    if(!elementFound){\r\n      elementStyles.push({\r\n        elementId,\r\n        styles,\r\n      })\r\n    }\r\n    this.setState({\r\n      ...this.state,\r\n      elementStyles: elementStyles\r\n    })\r\n  }\r\n  render(){\r\n    return <div className=\"styles-container\">\r\n      {this.state.elementStyles.map(elementStyle => {\r\n        return<style data-styles-id={elementStyle.elementId} key={elementStyle.elementId}>{elementStyle.styles}</style>\r\n      })}\r\n    </div>\r\n  }\r\n}\r\n\r\nexport default Styles","import React, {Component} from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport RouteContent from \"./RouteContent\";\r\nimport Styles from \"./Styles\";\r\n\r\nclass AppContent extends Component {\r\n  render(){\r\n    return <div className=\"front-app-content\">\r\n      <Router>\r\n        <Switch>\r\n          {this.props.routes.map(route=><Route key={'appRoute_' + route.id} path={route.location}>\r\n            <RouteContent areas={route.areas}/>\r\n          </Route>)}\r\n        </Switch>\r\n      </Router>\r\n      <Styles/>\r\n    </div>;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    routes: state.appRoutes.routes\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AppContent);\r\n","import React, {Component} from \"react\";\r\nimport {hot} from \"react-hot-loader\";\r\nimport {getRoutes, getTemplates} from \"./js/helpers\";\r\nimport appStore from \"./js/store/store\";\r\nimport AppContent from \"./js/components/AppContent\";\r\nimport {Provider} from 'react-redux'\r\n\r\nclass FrontApp extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    window.frontApp = this;\r\n    this.getTemplates();\r\n    this.getRoutes();\r\n  }\r\n  getTemplates(){\r\n    return getTemplates().then(res => {\r\n      this.templates = res.default\r\n    });\r\n  }\r\n  getRoutes(){\r\n    return getRoutes().then(res => {\r\n      this.routes = res.default;\r\n    });\r\n  }\r\n  onClick(){\r\n    this.getTemplates().then(Templates => {\r\n      console.log(this.templates === Templates.default);\r\n    });\r\n  }\r\n  render(){\r\n    return <Provider store={appStore}>\r\n      <AppContent/>\r\n    </Provider>;\r\n  }\r\n}\r\n\r\nlet _export;\r\nif (process.env.NODE_ENV === 'production') {\r\n  _export = FrontApp;\r\n} else {\r\n  _export = hot(module)(FrontApp);\r\n}\r\n\r\nexport default _export;\r\n"],"sourceRoot":""}