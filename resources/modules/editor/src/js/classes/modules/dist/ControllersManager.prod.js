"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CONTROLLER_SELECT2=exports.CONTROLLER_SLIDER=exports.CONTROLLER_CHOOSE=exports.CONTROLLER_SELECT=exports.CONTROLLER_SWITCHER=exports.CONTROLLER_NUMBER=exports.CONTROLLER_TEXT=exports.CONTROLLER_TEXTAREA=exports.TAB_ADVANCED=exports.TAB_STYLE=exports.TAB_CONTENT=void 0;var _TextareaController=_interopRequireDefault(require("../../components/controllers/TextareaController")),_TextController=_interopRequireDefault(require("../../components/controllers/TextController")),_NumberController=_interopRequireDefault(require("../../components/controllers/NumberController")),_SwitcherController=_interopRequireDefault(require("../../components/controllers/SwitcherController")),_SelectController=_interopRequireDefault(require("../../components/controllers/SelectController")),_ChooseController=_interopRequireDefault(require("../../components/controllers/ChooseController")),_SliderController=_interopRequireDefault(require("../../components/controllers/SliderController")),_Select2Controller=_interopRequireDefault(require("../../components/controllers/Select2Controller"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(t,!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}var TAB_CONTENT="content";exports.TAB_CONTENT=TAB_CONTENT;var TAB_STYLE="style";exports.TAB_STYLE=TAB_STYLE;var TAB_ADVANCED="advanced";exports.TAB_ADVANCED=TAB_ADVANCED;var CONTROLLER_TEXTAREA="textarea";exports.CONTROLLER_TEXTAREA=CONTROLLER_TEXTAREA;var CONTROLLER_TEXT="text";exports.CONTROLLER_TEXT=CONTROLLER_TEXT;var CONTROLLER_NUMBER="number";exports.CONTROLLER_NUMBER=CONTROLLER_NUMBER;var CONTROLLER_SWITCHER="switcher";exports.CONTROLLER_SWITCHER=CONTROLLER_SWITCHER;var CONTROLLER_SELECT="select";exports.CONTROLLER_SELECT=CONTROLLER_SELECT;var CONTROLLER_CHOOSE="choose";exports.CONTROLLER_CHOOSE=CONTROLLER_CHOOSE;var CONTROLLER_SLIDER="slider";exports.CONTROLLER_SLIDER=CONTROLLER_SLIDER;var CONTROLLER_SELECT2="select2";exports.CONTROLLER_SELECT2=CONTROLLER_SELECT2;var ControllersManager=function(){function e(){_classCallCheck(this,e),this.conttrollers={},this.conttrollers[CONTROLLER_TEXTAREA]=_TextareaController.default,this.conttrollers[CONTROLLER_TEXT]=_TextController.default,this.conttrollers[CONTROLLER_NUMBER]=_NumberController.default,this.conttrollers[CONTROLLER_SWITCHER]=_SwitcherController.default,this.conttrollers[CONTROLLER_SELECT]=_SelectController.default,this.conttrollers[CONTROLLER_CHOOSE]=_ChooseController.default,this.conttrollers[CONTROLLER_SLIDER]=_SliderController.default,this.conttrollers[CONTROLLER_SELECT2]=_Select2Controller.default,this.elementsControls=null,this._cache={controls:{}}}return _createClass(e,[{key:"init",value:function(){this.registerControls()}},{key:"getController",value:function(e){if(!this.conttrollers[e])throw"Controller with Name ".concat(e," not Found!");return this.conttrollers[e]}},{key:"registerControls",value:function(){var e=window.elementsManager.getElements();for(var r in this.elementsControls={},e)e.hasOwnProperty(r)&&(this.elementsControls[r]=(new e[r]).getControls())}},{key:"getControls",value:function(e){return this.elementsControls||this.registerControls(),this.elementsControls[e]}},{key:"getElementControl",value:function(e,r){var t,o=_objectSpread({},this.getControls(e));if(t=this._cache.controls[e+r])return t;for(var n in o)if(o.hasOwnProperty(n)){if(!o[n].length)continue;var l=!0,s=!1,i=void 0;try{for(var a,C=o[n][Symbol.iterator]();!(l=(a=C.next()).done);l=!0){var O=a.value;if(O.controls.length){var c=!0,E=!1,R=void 0;try{for(var T,u=O.controls[Symbol.iterator]();!(c=(T=u.next()).done);c=!0){var L=T.value;L.controlId===r&&(t=L)}}catch(e){E=!0,R=e}finally{try{c||null==u.return||u.return()}finally{if(E)throw R}}}}}catch(e){s=!0,i=e}finally{try{l||null==C.return||C.return()}finally{if(s)throw i}}}return t}},{key:"setControlsCache",value:function(e,r){this._cache.controls[e]=r}}]),e}(),_default=ControllersManager;exports.default=_default;